# Project Name

Timder App - Analysis

## Roadmap

View the project roadmap [here](https://drive.google.com/open?id=1kAPJHYxOglYTeN3WJslR1_gGNFUneNer6oveAjPyoFA)

## Contributing

See [CONTRIBUTING.md](CONTRIBUTING.md) for contribution guidelines.

# Table of Contents

1. [Usage](#Usage)
1. [Requirements](#requirements)
1. [Development](#development)
    1. [Installing Dependencies](#installing-dependencies)
    1. [Tasks](#tasks)

## Usage

## Database Schema

![Imgur](https://i.imgur.com/nzuVRax.png "Timder Analysis Database Schema")

### API Usage

**Show User Photo Count Weight**
----
  Returns weight data about a single user.

* **URL**

/api/weights/photo/

*  **URL Params**

   **Required:**

   `id=[integer]`

* **Data Params**

  None

#### Input

```javascript
  {
    user_id: INT,
    start_date: STRING,
    end_date: STRING
  }
```
- `user_id` Query for specific user's id
- `start_date` Request start date
- `end_date` Request end date

##### Example Weight Request
```
  timder.com/api/weights/photo/?id=6
```

#### Output
```javascript
 {
   weight_id: INT,
   user_id: INT,
   photo_count_weight: {
     0: INT,
     1: INT,
     2: INT,
     3: INT
   }
 }
```
- `weight_id` User's specific weight ID
- `user_id` User's specific ID number
- `photo_count_weight` User's calculated weights for photo count

##### Example Weight Response
```javascript
    {
        "weightId": 51867,
        "userId": 6,
        "photoCountWeight": {
            "0": 0.10778443113772455,
            "1": 0.46706586826347307,
            "2": 0.1497005988023952,
            "3": 0.2754491017964072
        },
        "createdAt": "2017-10-26T23:41:08.335Z",
        "updatedAt": "2017-10-26T23:41:08.335Z"
    }
```

##### Additional Information:
The calculated weights table is generated by joining Event Service, Swipes, and User Info tables. The photo_count_weight number will be calculated by measuring a specific user with X amount of photos to user matches for a given time range. Each photo count will have a weight attributed to it and based on how much weight is given, the Match service will prioritize and sort user cards accordingly.

**Show User All Weights**
----
  Returns weight data about a single user.

* **URL**

/api/weights/all

*  **URL Params**

   **Required:**

   `id=[integer]`

* **Data Params**

  None

#### Input
```javascript
  {
    user_id: INT,
    start_date: STRING,
    end_date: STRING
  }
```
- `user_id` Query for specific user's id
- `start_date` Request start date
- `end_date` Request end date

##### Example Weight Request
```
  timder.com/api/weights/all?id=3
```

#### Output
```javascript
 {
   weight_id: INT,
   user_id: INT,
   photo_count_weight: {
     0: INT,
     1: INT,
     2: INT,
     3: INT
   }
 }
```
- `weight_id` User's specific weight ID
- `user_id` User's specific ID number
- `photo_count_weight` User's calculated weights for photo count

##### Example Weight Response
```javascript
[
  {
      "weightId": 130529,
      "userId": 3,
      "photoCountWeight": {
          "0": 0.3617021276595745,
          "1": 0.2170212765957447,
          "2": 0.22127659574468084,
          "3": 0.2
      },
      "createdAt": "2017-10-26T23:41:56.536Z",
      "updatedAt": "2017-10-26T23:41:56.536Z"
  },
  {
      "weightId": 309629,
      "userId": 3,
      "photoCountWeight": {
          "0": 0.1564245810055866,
          "1": 0.055865921787709494,
          "2": 0.4748603351955307,
          "3": 0.3128491620111732
      },
      "createdAt": "2017-10-26T23:43:48.693Z",
      "updatedAt": "2017-10-26T23:43:48.693Z"
  },
  {
      "weightId": 333172,
      "userId": 3,
      "photoCountWeight": {
          "0": 0.2889908256880734,
          "1": 0.23853211009174313,
          "2": 0.25688073394495414,
          "3": 0.21559633027522937
      },
      "createdAt": "2017-10-26T23:44:03.293Z",
      "updatedAt": "2017-10-26T23:44:03.293Z"
  }
]
```

## Requirements

-Node 6.9.x
-Postgresql 9.6.x
-express
-pg
-chai
-mocha
